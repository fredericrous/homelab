# Minimal cluster configuration for Cilium
cluster:
  # Allow workloads on control plane
  allowSchedulingOnControlPlanes: true
  network:
    # IMPORTANT: make these explicit so kube-proxy/Cilium agree
    podSubnets:
      - 10.244.0.0/16
    serviceSubnets:
      - 10.96.0.0/12
    dnsDomain: cluster.local
    # Disable default CNI - Cilium will be installed via Helm
    cni:
      name: none
  # Disable kube-proxy - Cilium will replace it
  proxy:
    disabled: true
machine:
  # Disable kubespan
  network:
    kubespan:
      enabled: false