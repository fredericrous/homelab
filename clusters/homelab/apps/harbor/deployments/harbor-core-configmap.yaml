apiVersion: v1
kind: ConfigMap
metadata:
  name: harbor-core-config
  namespace: harbor
data:
  app.conf: |
    appname = Harbor
    runmode = prod
    
    [database]
    type = postgresql
    host = postgres-apps-rw.postgres.svc.cluster.local
    port = 5432
    username = harbor
    database = harbor
    sslmode = disable
    maxidleconns = 100
    maxopenconns = 900
    
    [cache]
    type = redis
    endpoint = redis-standalone.ot-operators.svc.cluster.local:6379
    
    [jobservice]
    max_job_workers = 10
    logger_sweeper_duration = 1
    job_loggers = file
    job_log_dir = /var/log/jobs
    
    [log]
    level = info
    local = true