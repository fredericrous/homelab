apiVersion: kustomize.config.k8s.io/v1beta1
kind: Kustomization
namespace: flux-system
resources:
  # HelmRepositories (must be first)
  - ../platform-foundation/sources/jetstack.yaml
  - ../platform-foundation/sources/external-secrets.yaml  
  - ../platform-foundation/sources/emberstack.yaml
  - ../platform-foundation/sources/rook-release.yaml
  
  # Essential operators
  - reflector.yaml
  - rook-ceph.yaml
  - external-secrets-operator.yaml
  - cert-manager.yaml
  
  # Istio core (required for mesh)
  - istio-repository.yaml
  - istio-base.yaml
  - istio-cni.yaml
  - istio-istiod.yaml
  - istio-ztunnel.yaml
  - istio-sa-fix.yaml
