version: '3'

dotenv: ['.env']

includes:
  homelab:
    taskfile: ./bootstrap/homelab/Taskfile.yml
    dir: ./bootstrap/homelab
  nas:
    taskfile: ./bootstrap/nas/Taskfile.yml
    dir: ./bootstrap/nas

tasks:
  default:
    desc: Show available tasks
    cmds:
      - task --list

  # Homelab shortcuts (most common commands)
  up:
    desc: Create homelab cluster infrastructure (VMs + Talos + CNI)
    cmds:
      - task homelab:up

  install:
    desc: Full homelab installation (cluster + GitOps + apps)
    cmds:
      - task homelab:install

  bootstrap:
    desc: Create homelab cluster and bootstrap FluxCD
    cmds:
      - task homelab:bootstrap

  verify:
    desc: Verify all homelab infrastructure components are ready
    cmds:
      - task homelab:verify

  uninstall:
    desc: Uninstall homelab cluster (cluster + VMs + configs)
    cmds:
      - task homelab:uninstall