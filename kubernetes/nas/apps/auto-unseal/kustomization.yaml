apiVersion: kustomize.config.k8s.io/v1beta1
kind: Kustomization
namespace: vault

resources:
  - vault-auto-unseal-job.yaml

configMapGenerator:
  - name: vault-auto-unseal-script
    files:
      - vault-auto-unseal.sh

# Note: Encrypted keys and GPG private key are now stored on NFS at /share/VMs/kubernetes/vault/
# The auto-unseal job will mount this path directly from the host

generatorOptions:
  disableNameSuffixHash: true