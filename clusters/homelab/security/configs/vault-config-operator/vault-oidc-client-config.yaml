---
apiVersion: v1
kind: ConfigMap
metadata:
  name: vault-oidc-client-config
  namespace: authelia
  labels:
    app.kubernetes.io/component: oidc-client
    app.kubernetes.io/part-of: authelia
data:
  vault-client.yaml: |
    - client_id: vault
      client_name: HashiCorp Vault
      client_secret: '$pbkdf2-sha512$310000$vault-secret-placeholder$vault-hashed-secret-will-be-generated'
      public: false
      authorization_policy: two_factor
      require_pkce: true
      pkce_challenge_method: S256
      redirect_uris:
        - https://vaultx.daddyshome.fr/ui/vault/auth/oidc/oidc/callback
        - https://vaultx.daddyshome.fr/oidc/callback
      scopes:
        - openid
        - profile
        - groups
        - email
      response_types:
        - code
      grant_types:
        - authorization_code
      response_modes:
        - form_post
        - query
        - fragment
      userinfo_signed_response_alg: none
