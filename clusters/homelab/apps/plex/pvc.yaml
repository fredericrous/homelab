---
# PVC for Plex configuration
apiVersion: v1
kind: PersistentVolumeClaim
metadata:
  name: plex-config
  namespace: plex
spec:
  accessModes:
    - ReadWriteOnce
  resources:
    requests:
      storage: 10Gi
  storageClassName: rook-ceph-block
---
# PV for media stored on NFS
apiVersion: v1
kind: PersistentVolume
metadata:
  name: plex-media-pv-v2
spec:
  capacity:
    storage: 10Ti
  accessModes:
    - ReadWriteMany
  persistentVolumeReclaimPolicy: Retain
  nfs:
    server: 192.168.1.42
    path: /share/CACHEDEV1_DATA/Multimedia
  mountOptions:
    - vers=3
    - nolock
    - proto=tcp
    - rsize=1048576
    - wsize=1048576
    - hard
    - intr
    - timeo=600
---
# PVC for media
apiVersion: v1
kind: PersistentVolumeClaim
metadata:
  name: plex-media
  namespace: plex
spec:
  accessModes:
    - ReadOnlyMany
  resources:
    requests:
      storage: 1000Gi
  storageClassName: nfs
  volumeName: plex-media-pv-v2